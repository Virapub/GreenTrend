// slider.js
document.addEventListener("DOMContentLoaded", () => {
  const slider = document.getElementById("slider");
  const prevBtn = document.querySelector(".prev-slide");
  const nextBtn = document.querySelector(".next-slide");
  const dotsContainer = document.querySelector(".slider-dots");

  const slidesData = [
    {
      src: "images/slide1.jpg",
      title: "Smart Kitchen Blender",
      text: "High-speed blender with multiple modes",
    },
    {
      src: "images/slide2.jpg",
      title: "Digital Air Fryer",
      text: "Healthier frying with smart controls",
    },
    {
      src: "images/slide3.jpg",
      title: "Multipurpose Kettle",
      text: "Boil water fast and easy",
    },
  ];

  let currentSlide = 0;

  function createSlides() {
    slider.innerHTML = ""; // Clear previous
    slidesData.forEach((slide, index) => {
      const slideDiv = document.createElement("div");
      slideDiv.classList.add("slide");
      slideDiv.innerHTML = `
        <img src="${slide.src}" alt="${slide.title}">
        <div class="slide-content">
          <h3>${slide.title}</h3>
          <p>${slide.text}</p>
          <a href="products.html" class="slide-btn">Shop Now</a>
        </div>
      `;
      slider.appendChild(slideDiv);
    });
  }

  function updateDots() {
    dotsContainer.innerHTML = "";
    slidesData.forEach((_, i) => {
      const dot = document.createElement("span");
      dot.classList.add("slider-dot");
      if (i === currentSlide) dot.classList.add("active");
      dot.addEventListener("click", () => showSlide(i));
      dotsContainer.appendChild(dot);
    });
  }

  function showSlide(index) {
    const total = slidesData.length;
    currentSlide = (index + total) % total; // wrap around
    slider.style.transform = `translateX(-${currentSlide * 100}%)`;
    updateDots();
  }

  function nextSlide() {
    showSlide(currentSlide + 1);
  }

  function prevSlide() {
    showSlide(currentSlide - 1);
  }

  // Init
  createSlides();
  updateDots();
  showSlide(currentSlide);

  nextBtn.addEventListener("click", nextSlide);
  prevBtn.addEventListener("click", prevSlide);

  setInterval(nextSlide, 5000); // Auto slide every 5 sec
});
