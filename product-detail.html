<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Product Detail - Smart Kitchen Gadgets</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script defer src="scripts.js"></script>
</head>
<body>
    <main>
        <section id="productDetail"></section>
    </main>
    <script>
        function getQueryParam(name) {
            const params = new URLSearchParams(window.location.search);
            return params.get(name);
        }
        // Helper for loose matching (case insensitive)
        function findProduct(title) {
            return products.find(p => decodeURIComponent(title).toLowerCase() === p.title.toLowerCase());
        }
        document.addEventListener("DOMContentLoaded", function() {
            const prodTitle = getQueryParam("product");
            const prod = findProduct(prodTitle);
            const container = document.getElementById("productDetail");
            if (!prod) {
                container.innerHTML = `<div style="padding:2em;text-align:center;color:#d33;">Product Not Found</div>`;
                return;
            }
            container.innerHTML = `
                <div class="product-detail-card">
                    <img src="${prod.image}" alt="${prod.title}" class="product-image" style="max-width:220px;margin-bottom:1em;">
                    <h2>${prod.title}</h2>
                    <div style="color:#00b894;font-size:1.05em;">⭐ ${prod.rating || ''} (${prod.reviews || ''})</div>
                    <div style="margin:.5em 0;">
                        <span style="font-weight:bold;">₹${prod.priceINR}</span>
                        <span style="color:#888;margin-left:1em;">$${prod.priceUSD}</span>
                    </div>
                    <a class="buy-now-btn" href="${prod.affiliateIN}" target="_blank">Buy for India</a>
                    <a class="buy-now-btn" href="${prod.affiliateUS}" target="_blank" style="margin-left:1em;">Buy for US</a>
                    <h4 style="margin-top:1.3em;color:#ff7a00;">Specifications</h4>
                    <ul style="margin-left:1.3em;">
                        ${(prod.specs||[]).map(s => `<li>${s}</li>`).join("")}
                    </ul>
                    <h4 style="margin-top:1em;color:#ff7a00;">Description</h4>
                    <p style="color:#444;">${prod.description||''}</p>
                </div>
            `;
        });
    </script>
</body>
</html>
